# 并发编程

1. **简单粗暴, 一次请求开一个线程, 线程中完成请求与响应处理.**

   - 在for循环中有多少个任务就go出去多少个协程,没有限制,在查询量固定或者不大的时候没什么问题.
   - 没有用到 channel的特性, 仅利用了多核调度.
2. **优雅一点, 限制线程池, 以master-worker的方式处理并发, 最后又把响应统一处理.**
   * chan通知，直接定义的线程池
3. **优雅地限制线程池**
   * 封装线程池对象
   * 巧妙地使用go带缓冲区的通道来实现goroutine控制, 更加简洁, 并且这种方式在多个项目中都可以复用. 不必像第二种方式一样每次都实现一个worker函数.
4. github.com/panjf2000/ants/v2 包，集中处理goroutine